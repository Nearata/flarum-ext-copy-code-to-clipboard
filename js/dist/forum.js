(()=>{var t={n:e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}t.r(e);const r=flarum.core.compat["common/Component"];var n=t.n(r);const a=flarum.core.compat["common/components/Button"];var c=t.n(a);const i=flarum.core.compat["forum/app"];var l=t.n(i),u=function(t){var e,r;function n(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).clicked=void 0,e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,o(e,r);var a=n.prototype;return a.oninit=function(e){t.prototype.oninit.call(this,e),this.clicked=!1},a.view=function(t){return m(c(),{className:"Button Button--icon",icon:this.clicked?"fas fa-check":"far fa-clone",onclick:this.onClick.bind(this),"aria-label":l().translator.trans("nearata-copy-code-to-clipboard.forum.copy")})},a.onClick=function(t){var e,o=this;this.clicked=!0;var r=null==(e=this.element.closest("pre"))?void 0:e.querySelector("code");navigator.clipboard.writeText(null==r?void 0:r.textContent),setTimeout((function(){o.clicked=!1,m.redraw()}),1e3)},n}(n());const p=flarum.core.compat["common/extend"],d=flarum.core.compat["forum/components/CommentPost"];var s=t.n(d);function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}l().initializers.add("nearata-copy-code-to-clipboard",(function(){(0,p.extend)(s().prototype,"oncreate",(function(){for(var t,e=function(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return f(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(this.element.querySelectorAll("pre"));!(t=e()).done;){var o=t.value,r=document.createElement("div");r.classList.add("NearataCopyCodeToClipboard"),o.append(r),m.mount(r,u)}}))}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map